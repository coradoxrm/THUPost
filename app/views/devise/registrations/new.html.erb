<!--<h2>Sign up</h2>

<%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
<%= devise_error_messages! %>

<div class="field">
<%= f.label :email %><br />
<%= f.email_field :email, autofocus: true %>
</div>

<div class="field">
<%= f.label :password %>
<% if @minimum_password_length %>
<em>(<%= @minimum_password_length %> characters minimum)</em>
<% end %><br />
<%= f.password_field :password, autocomplete: "off" %>
</div>

<div class="field">
<%= f.label :password_confirmation %><br />
<%= f.password_field :password_confirmation, autocomplete: "off" %>
</div>

<div class="actions">
<%= f.submit "Sign up" %>
</div>
<% end %>

<%= render "devise/shared/links" %>
-->

<div class="wrapper wrapper-content animated fadeInRight">
  <div class="row">

    <div class="ibox-content">
      <h2>
        Validation Wizard Form
      </h2>
      <p>
        This example show how to use Steps with jQuery Validation plugin.
      </p>

      <form id="form" action="#" class="wizard-big wizard clearfix" role="application" novalidate="novalidate"><div class="steps clearfix"><ul role="tablist"><li role="tab" class="first current" aria-disabled="false" aria-selected="true"><a id="form-t-0" href="#form-h-0" aria-controls="form-p-0"><span class="current-info audible">current step: </span><span class="number">1.</span> Account</a></li><li role="tab" class="disabled" aria-disabled="true"><a id="form-t-1" href="#form-h-1" aria-controls="form-p-1"><span class="number">2.</span> Profile</a></li><li role="tab" class="disabled" aria-disabled="true"><a id="form-t-2" href="#form-h-2" aria-controls="form-p-2"><span class="number">3.</span> Warning</a></li><li role="tab" class="disabled last" aria-disabled="true"><a id="form-t-3" href="#form-h-3" aria-controls="form-p-3"><span class="number">4.</span> Finish</a></li></ul></div><div class="content clearfix">
        <h1 id="form-h-0" tabindex="-1" class="title current">Account</h1>
        <fieldset id="form-p-0" role="tabpanel" aria-labelledby="form-h-0" class="body current" aria-hidden="false">
          <h2>Account Information</h2>
          <div class="row">
            <div class="col-lg-8">
              <div class="form-group">
                <label>Username *</label>
                <input id="userName" name="userName" type="text" class="form-control required" aria-required="true">
              </div>
              <div class="form-group">
                <label>Password *</label>
                <input id="password" name="password" type="text" class="form-control required" aria-required="true">
              </div>
              <div class="form-group">
                <label>Confirm Password *</label>
                <input id="confirm" name="confirm" type="text" class="form-control required" aria-required="true">
              </div>
            </div>
            <div class="col-lg-4">
              <div class="text-center">
                <div style="margin-top: 20px">
                  <i class="fa fa-sign-in" style="font-size: 180px;color: #e5e5e5 "></i>
                </div>
              </div>
            </div>
          </div>

        </fieldset>
        <h1 id="form-h-1" tabindex="-1" class="title">Profile</h1>
        <fieldset id="form-p-1" role="tabpanel" aria-labelledby="form-h-1" class="body" aria-hidden="true" style="display: none;">
          <h2>Profile Information</h2>
          <div class="row">
            <div class="col-lg-6">
              <div class="form-group">
                <label>First name *</label>
                <input id="name" name="name" type="text" class="form-control required" aria-required="true">
              </div>
              <div class="form-group">
                <label>Last name *</label>
                <input id="surname" name="surname" type="text" class="form-control required" aria-required="true">
              </div>
            </div>
            <div class="col-lg-6">
              <div class="form-group">
                <label>Email *</label>
                <input id="email" name="email" type="text" class="form-control required email" aria-required="true">
              </div>
              <div class="form-group">
                <label>Address *</label>
                <input id="address" name="address" type="text" class="form-control">
              </div>
            </div>
          </div>
        </fieldset>

        <h1 id="form-h-2" tabindex="-1" class="title">Warning</h1>
        <fieldset id="form-p-2" role="tabpanel" aria-labelledby="form-h-2" class="body" aria-hidden="true" style="display: none;">
          <div class="text-center" style="margin-top: 120px">
            <h2>You did it Man :-)</h2>
          </div>
        </fieldset>

        <h1 id="form-h-3" tabindex="-1" class="title">Finish</h1>
        <fieldset id="form-p-3" role="tabpanel" aria-labelledby="form-h-3" class="body" aria-hidden="true" style="display: none;">
          <h2>Terms and Conditions</h2>
          <input id="acceptTerms" name="acceptTerms" type="checkbox" class="required" aria-required="true"> <label for="acceptTerms">I agree with the Terms and Conditions.</label>
        </fieldset>
      </div><div class="actions clearfix"><ul role="menu" aria-label="Pagination"><li class="disabled" aria-disabled="true"><a href="#previous" role="menuitem">Previous</a></li><li aria-hidden="false" aria-disabled="false"><a href="#next" role="menuitem">Next</a></li><li aria-hidden="false"><a href="#finish" role="menuitem">Finish</a></li><li><a href="#cancel" role="menuitem">Cancel</a></li></ul></div></form>
    </div>
  </div>
</div>



<% content_for :javascript do %>

<script type="text/javascript">


$(function() {

  $("#wizard").steps();
  $("#form").steps({
    bodyTag: "fieldset",
    onStepChanging: function (event, currentIndex, newIndex) {
      // Always allow going backward even if the current step contains invalid fields!
      if (currentIndex > newIndex) {
        return true;
      }

      // Forbid suppressing "Warning" step if the user is to young
      if (newIndex === 3 && Number($("#age").val()) < 18) {
        return false;
      }

      var form = $(this);

      // Clean up if user went backward before
      if (currentIndex < newIndex) {
        // To remove error styles
        $(".body:eq(" + newIndex + ") label.error", form).remove();
        $(".body:eq(" + newIndex + ") .error", form).removeClass("error");
      }

      // Disable validation on fields that are disabled or hidden.
      form.validate().settings.ignore = ":disabled,:hidden";

      // Start validation; Prevent going forward if false
      return form.valid();
    },
    onStepChanged: function (event, currentIndex, priorIndex) {
      // Suppress (skip) "Warning" step if the user is old enough.
      if (currentIndex === 2 && Number($("#age").val()) >= 18) {
        $(this).steps("next");
      }

      // Suppress (skip) "Warning" step if the user is old enough and wants to the previous step.
      if (currentIndex === 2 && priorIndex === 3) {
        $(this).steps("previous");
      }
    },
    onFinishing: function (event, currentIndex) {
      var form = $(this);

      // Disable validation on fields that are disabled.
      // At this point it's recommended to do an overall check (mean ignoring only disabled fields)
      form.validate().settings.ignore = ":disabled";

      // Start validation; Prevent form submission if false
      return form.valid();
    },
    onFinished: function (event, currentIndex) {
      var form = $(this);

      // Submit form input
      form.submit();
    }
  }).validate({
    errorPlacement: function (error, element) {
      element.before(error);
    },
    rules: {
      confirm: {
        equalTo: "#password"
      }
    }
  });

});

</script>

<% end %>
